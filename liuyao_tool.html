<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>六爻解卦工具</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #fafafa;
        }
        
        .section h2 {
            margin-top: 0;
            color: #555;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            min-width: 120px;
        }
        
        .form-group label {
            margin-bottom: 5px;
            font-weight: bold;
            color: #666;
        }
        
        .form-group input, .form-group select {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .yao-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .yao-item {
            border: 2px solid #ddd;
            padding: 15px;
            border-radius: 8px;
            background-color: white;
        }
        
        .yao-item h3 {
            margin-top: 0;
            color: #444;
            text-align: center;
            background-color: #e9e9e9;
            padding: 10px;
            border-radius: 5px;
        }
        
        .checkbox-group {
            display: flex;
            gap: 15px;
            align-items: center;
            margin: 10px 0;
        }
        
        .checkbox-group label {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .btn-container {
            text-align: center;
            margin: 30px 0;
        }
        
        .btn-generate {
            background-color: #007cba;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .btn-generate:hover {
            background-color: #005a8a;
        }
        
        .result-container {
            margin-top: 30px;
            padding: 20px;
            border: 2px solid #007cba;
            border-radius: 5px;
            background-color: #f0f8ff;
            display: none;
        }
        
        .result-textarea {
            width: 100%;
            height: 400px;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
            resize: vertical;
        }
        
        .btn-copy {
            background-color: #28a745;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .btn-copy:hover {
            background-color: #218838;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>六爻解卦工具</h1>
        
        <!-- 四柱時間 -->
        <div class="section">
            <h2>四柱時間</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>年份：</label>
                    <input type="number" id="year" placeholder="2024">
                </div>
                <div class="form-group">
                    <label>月份：</label>
                    <select id="month">
                        <option value="">選擇月份</option>
                        <option value="1">1月</option>
                        <option value="2">2月</option>
                        <option value="3">3月</option>
                        <option value="4">4月</option>
                        <option value="5">5月</option>
                        <option value="6">6月</option>
                        <option value="7">7月</option>
                        <option value="8">8月</option>
                        <option value="9">9月</option>
                        <option value="10">10月</option>
                        <option value="11">11月</option>
                        <option value="12">12月</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>日期：</label>
                    <input type="number" id="day" min="1" max="31" placeholder="15">
                </div>
                <div class="form-group">
                    <label>時辰：</label>
                    <select id="hour">
                        <option value="">選擇時辰</option>
                        <option value="子時">子時 (23:00-01:00)</option>
                        <option value="丑時">丑時 (01:00-03:00)</option>
                        <option value="寅時">寅時 (03:00-05:00)</option>
                        <option value="卯時">卯時 (05:00-07:00)</option>
                        <option value="辰時">辰時 (07:00-09:00)</option>
                        <option value="巳時">巳時 (09:00-11:00)</option>
                        <option value="午時">午時 (11:00-13:00)</option>
                        <option value="未時">未時 (13:00-15:00)</option>
                        <option value="申時">申時 (15:00-17:00)</option>
                        <option value="酉時">酉時 (17:00-19:00)</option>
                        <option value="戌時">戌時 (19:00-21:00)</option>
                        <option value="亥時">亥時 (21:00-23:00)</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- 本卦與變卦 -->
        <div class="section">
            <h2>本卦與變卦</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>本卦：</label>
                    <select id="original-gua">
                        <option value="">選擇本卦</option>
                        <option value="乾為天">1. 乾為天</option>
                        <option value="坤為地">2. 坤為地</option>
                        <option value="水雷屯">3. 水雷屯</option>
                        <option value="山水蒙">4. 山水蒙</option>
                        <option value="水天需">5. 水天需</option>
                        <option value="天水訟">6. 天水訟</option>
                        <option value="地水師">7. 地水師</option>
                        <option value="水地比">8. 水地比</option>
                        <option value="風天小畜">9. 風天小畜</option>
                        <option value="天澤履">10. 天澤履</option>
                        <!-- 這裡可以繼續添加其他64卦 -->
                    </select>
                </div>
                <div class="form-group">
                    <label>本卦特殊屬性：</label>
                    <select id="original-special">
                        <option value="">無特殊</option>
                        <option value="六沖">六沖</option>
                        <option value="六合">六合</option>
                        <option value="游魂">游魂</option>
                        <option value="歸魂">歸魂</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>變卦：</label>
                    <select id="changed-gua">
                        <option value="">選擇變卦</option>
                        <option value="乾為天">1. 乾為天</option>
                        <option value="坤為地">2. 坤為地</option>
                        <option value="水雷屯">3. 水雷屯</option>
                        <option value="山水蒙">4. 山水蒙</option>
                        <option value="水天需">5. 水天需</option>
                        <option value="天水訟">6. 天水訟</option>
                        <option value="地水師">7. 地水師</option>
                        <option value="水地比">8. 水地比</option>
                        <option value="風天小畜">9. 風天小畜</option>
                        <option value="天澤履">10. 天澤履</option>
                        <!-- 這裡可以繼續添加其他64卦 -->
                    </select>
                </div>
                <div class="form-group">
                    <label>變卦特殊屬性：</label>
                    <select id="changed-special">
                        <option value="">無特殊</option>
                        <option value="六沖">六沖</option>
                        <option value="六合">六合</option>
                        <option value="游魂">游魂</option>
                        <option value="歸魂">歸魂</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- 六爻詳細資料 -->
        <div class="section">
            <h2>六爻詳細資料</h2>
            <div class="yao-container" id="yao-container">
                <!-- 六爻將通過JavaScript生成 -->
            </div>
        </div>

        <div class="btn-container">
            <button class="btn-generate" onclick="generatePrompt()">生成Prompt</button>
        </div>

        <!-- 結果顯示區域 -->
        <div class="result-container" id="result-container">
            <h2>生成的Prompt：</h2>
            <textarea class="result-textarea" id="result-textarea" readonly></textarea>
            <button class="btn-copy" onclick="copyToClipboard()">複製到剪貼板</button>
        </div>
    </div>

    <script>
        // 十二地支選項
        const earthlyBranches = ['子', '丑', '寅', '卯', '辰', '巳', '午', '未', '申', '酉', '戌', '亥'];
        
        // 六親選項
        const sixRelatives = ['父母', '兄弟', '子孫', '妻財', '官鬼'];
        
        // 六獸選項
        const sixAnimals = ['青龍', '朱雀', '勾陳', '螣蛇', '白虎', '玄武'];

        // 初始化頁面
        function initializePage() {
            generateYaoInputs();
        }

        // 生成六爻輸入區域
        function generateYaoInputs() {
            const container = document.getElementById('yao-container');
            const yaoNames = ['初爻', '二爻', '三爻', '四爻', '五爻', '上爻'];
            
            for (let i = 0; i < 6; i++) {
                const yaoDiv = document.createElement('div');
                yaoDiv.className = 'yao-item';
                yaoDiv.innerHTML = `
                    <h3>${yaoNames[i]}</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>伏神：</label>
                            <select id="fushen-${i}">
                                <option value="">無伏神</option>
                                ${earthlyBranches.map(branch => `<option value="${branch}">${branch}</option>`).join('')}
                            </select>
                        </div>
                        <div class="form-group">
                            <label>伏神六親：</label>
                            <select id="fushen-relative-${i}">
                                <option value="">無</option>
                                ${sixRelatives.map(rel => `<option value="${rel}">${rel}</option>`).join('')}
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>六獸：</label>
                            <select id="animal-${i}">
                                <option value="">選擇六獸</option>
                                ${sixAnimals.map(animal => `<option value="${animal}">${animal}</option>`).join('')}
                            </select>
                        </div>
                        <div class="form-group">
                            <label>本卦六親：</label>
                            <select id="original-relative-${i}">
                                <option value="">選擇六親</option>
                                ${sixRelatives.map(rel => `<option value="${rel}">${rel}</option>`).join('')}
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>裝卦(十二地支)：</label>
                            <select id="original-branch-${i}">
                                <option value="">選擇地支</option>
                                ${earthlyBranches.map(branch => `<option value="${branch}">${branch}</option>`).join('')}
                            </select>
                        </div>
                        <div class="form-group">
                            <label>變卦(十二地支)：</label>
                            <select id="changed-branch-${i}">
                                <option value="">選擇地支</option>
                                ${earthlyBranches.map(branch => `<option value="${branch}">${branch}</option>`).join('')}
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>變卦六親：</label>
                            <select id="changed-relative-${i}">
                                <option value="">選擇六親</option>
                                ${sixRelatives.map(rel => `<option value="${rel}">${rel}</option>`).join('')}
                            </select>
                        </div>
                    </div>
                    
                    <div class="checkbox-group">
                        <label><input type="checkbox" id="shi-${i}"> 世爻</label>
                        <label><input type="checkbox" id="ying-${i}"> 應爻</label>
                        <label><input type="checkbox" id="body-${i}"> 卦身</label>
                        <label><input type="radio" name="yinyang-${i}" value="陽爻"> 陽爻</label>
                        <label><input type="radio" name="yinyang-${i}" value="陰爻"> 陰爻</label>
                    </div>
                `;
                container.appendChild(yaoDiv);
            }
        }

        // 生成Prompt
        function generatePrompt() {
            // 收集四柱時間
            const year = document.getElementById('year').value;
            const month = document.getElementById('month').value;
            const day = document.getElementById('day').value;
            const hour = document.getElementById('hour').value;
            
            // 收集本卦變卦信息
            const originalGua = document.getElementById('original-gua').value;
            const originalSpecial = document.getElementById('original-special').value;
            const changedGua = document.getElementById('changed-gua').value;
            const changedSpecial = document.getElementById('changed-special').value;
            
            // 生成Prompt文本
            let prompt = `請幫我解這個六爻卦：\n\n`;
            prompt += `起卦時間：${year}年${month}月${day}日 ${hour}\n`;
            prompt += `本卦：${originalGua}${originalSpecial ? ' (' + originalSpecial + ')' : ''}\n`;
            prompt += `變卦：${changedGua}${changedSpecial ? ' (' + changedSpecial + ')' : ''}\n\n`;
            
            prompt += `六爻詳細資料：\n`;
            prompt += `| 爻位 | 伏神 | 伏神六親 | 六獸 | 本卦六親 | 裝卦 | 特殊 | 陰陽 | 變卦 | 變卦六親 |\n`;
            prompt += `|------|------|----------|------|----------|------|------|------|------|----------|\n`;
            
            const yaoNames = ['上爻', '五爻', '四爻', '三爻', '二爻', '初爻'];
            
            for (let i = 5; i >= 0; i--) {
                const fushen = document.getElementById(`fushen-${i}`).value || '無';
                const fushenRelative = document.getElementById(`fushen-relative-${i}`).value || '無';
                const animal = document.getElementById(`animal-${i}`).value || '';
                const originalRelative = document.getElementById(`original-relative-${i}`).value || '';
                const originalBranch = document.getElementById(`original-branch-${i}`).value || '';
                const changedBranch = document.getElementById(`changed-branch-${i}`).value || '';
                const changedRelative = document.getElementById(`changed-relative-${i}`).value || '';
                
                // 收集特殊標記
                const shi = document.getElementById(`shi-${i}`).checked ? '世' : '';
                const ying = document.getElementById(`ying-${i}`).checked ? '應' : '';
                const body = document.getElementById(`body-${i}`).checked ? '身' : '';
                const special = [shi, ying, body].filter(x => x).join('/') || '無';
                
                // 收集陰陽
                const yinyang = document.querySelector(`input[name="yinyang-${i}"]:checked`)?.value || '';
                
                prompt += `| ${yaoNames[5-i]} | ${fushen} | ${fushenRelative} | ${animal} | ${originalRelative} | ${originalBranch} | ${special} | ${yinyang} | ${changedBranch} | ${changedRelative} |\n`;
            }
            
            prompt += `\n請根據以上信息進行詳細解卦分析。`;
            
            // 顯示結果
            document.getElementById('result-textarea').value = prompt;
            document.getElementById('result-container').style.display = 'block';
            
            // 滾動到結果區域
            document.getElementById('result-container').scrollIntoView({ behavior: 'smooth' });
        }

        // 複製到剪貼板
        function copyToClipboard() {
            const textarea = document.getElementById('result-textarea');
            textarea.select();
            document.execCommand('copy');
            alert('已複製到剪貼板！');
        }

        // 頁面載入時初始化
        window.onload = initializePage;
    </script>
</body>
</html>